################################################################################
# Fichier de test des routes HTTP de l'API
# Nécessite l'extension REST Client pour VSCode
# https://marketplace.visualstudio.com/items?itemName=humao.rest-client
################################################################################
@endpoint = http://localhost:{{$dotenv PORT}}/graphql

### Requête de test
# En graphQL on utilise toujours la méthode POST
# C'est dans le body que l'on fournit la requête graphQL
POST {{ endpoint }}
Content-Type: application/json
X-REQUEST-TYPE: GraphQL

query {
  getAllCategories {
    id
    label
    movies {
      id
      title
    }
  }
}

### Récupération d'un film via son identifiant
POST {{ endpoint }}
Content-Type: application/json
X-REQUEST-TYPE: GraphQL

query {
  getMovie(id: 1){
    title
    description
  }
}
